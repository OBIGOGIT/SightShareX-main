var COL_START=3,pageChange=function(a,c){Log.d("pageChange() -> page : ",a," size: ",c);companyList(a)},companyDetail=function(a){Log.d("companyDetail() -> companyId : ",a);mv("/manage/company/detail.do?companyId="+a)},companyList=function(a){getID("table-list-body").innerHTML="";var c=new URLSearchParams;c.append("companyName",getVal("txtCompanyName"));c.append("companyType",getVal("selCompanyType"));c.append("active",getVal("selActive"));c.append("curPage",a);c.append("pageUnit",PAGE_UNIT);showHide("table-list",
!1);scrollSave("my-scroll-pos");axios.post("/manage/company/list",c).then(function(b){Log.d("response.data : ",b.data);getID('total-count').innerHTML="0";if(!(0>=b.data.length)){b=b.data;0<b.length&&(getID("total-count").innerHTML=b[0].totalcnt);if(""==getID("table-list-head").innerHTML){for(var a=Object.getOwnPropertyNames(b[0]),d="",c=COL_START;c<a.length;c++)d=c==COL_START||8==c?d+'<th style="text-align: center;"><span>%s</span></th>'.sprintf(a[c]):d+"<th><span>%s</span></th>".sprintf(a[c]);a="<tr>%s</tr>".sprintf(d);getID("table-list-head").innerHTML=
a}d=a="";c=b.length;for(var f=0;f<c;f++){for(var g=Object.getOwnPropertyNames(b[0]),e=COL_START;e<g.length;e++)d=8==e?"1"==b[f][g[e]]?d+'<td align="center"><span class="label label-success">active</span></td>':d+'<td align="center"><span class="label label-warning">inactive</span></td>':3==e?d+'<td align="center"><span>%s</span></td>'.sprintf(b[f][g[e]]):4==e||7==e?d+'<td class="col-xs-2 text"><span>%s</span></td>'.sprintf(b[f][g[e]]):9<=e?d+"<td><span>%s</span></td>".sprintf(utcToLoc(b[f][g[e]])):
d+"<td><span>%s</span></td>".sprintf(b[f][g[e]]);a+='<tr style="cursor: pointer;" onclick="companyDetail(\'%s\')">%s</tr>'.sprintf(b[f].companyid,d);d=""}getID("table-list-body").innerHTML=a;a=b[0].page;b=Math.ceil(b[0].totalcnt/PAGE_UNIT);Log.d("curPage : ",a);Log.d("pageCount : ",b);"undefined"!=typeof Pagination&&(Pagination._pageNum=b,Pagination._initPage=a,Pagination.Init(document.getElementById("pagination"),{size:Pagination._pageNum,page:Pagination._initPage,step:3}));scrollRestore("my-scroll-pos");
showHide("table-list",!0)}}).catch(function(a){Log.d(a)})},companyTypes=function(){Log.d("companyTypes() called...");axios.post("/manage/company/types").then(function(a){a=a.data;var c=a.length;Log.d("companyTypes() -> data : ",a);for(var b="",h=0;h<c;h++)b+='<option value="%s">%s</option>'.sprintf(a[h].company_type_id,a[h].company_type_value);getID("selCompanyType").innerHTML+=b}).catch(function(a){Log.d("companyTypes() -> error=",a)})};
window.addEventListener("DOMContentLoaded",function(){Log.d("DOMContentLoaded() called...");companyList(1);companyTypes()});getID("btnSearch").onclick=function(a){Log.d("btnSearch() called...");companyList(1)};
