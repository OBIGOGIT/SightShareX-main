var initPage=function(){var a=getID("pw");a.lowChk=!1;a.upChk=!1;a.numChk=!1;a.lenChk=!1},doRegister=function(){var a=new URLSearchParams;a.append("email",getVal("email").toLowerCase());a.append("name",getVal("name"));a.append("pw",sha256(getVal("pw")));axios.post("/login/account/add",a).then(function(a){Log.d("response.data : ",a.data);"failed"==a.data.result?modalAlert(a.data.desc):modalAlertLink("Please wait for confirmation email from admin.","/login/login.do")}).catch(function(a){Log.d("doRegister() -> error=",
a)})};getID("pw").onkeyup=function(){pwConfirmChk();0>=this.value.length?getID("pw-w").style.display="":(this.value.match(/[a-z]/g)?this.lowChk=!0:this.lowChk=!1,this.value.match(/[A-Z]/g)?this.upChk=!0:this.upChk=!1,this.value.match(/[0-9]/g)?this.numChk=!0:this.numChk=!1,8<=this.value.length?(this.lenChk=!0,256<this.value.length&&(this.lenChk=!1)):this.lenChk=!1,this.lowChk&&this.upChk&&this.numChk&&this.lenChk?getID("pw-w").style.display="none":getID("pw-w").style.display="")};
getID("email").onkeyup=function(a){0>=this.value.length?getID("email-w1").style.display="":checkEmail(this.value.toLowerCase())?getID("email-w1").style.display="none":getID("email-w1").style.display=""};
getID("email").onblur=function(a){Log.d("onblur() -> e=",a);a=getVal("email").toLowerCase();if(0>=a.length)getID("email-w1").style.display="";else{var b=new URLSearchParams;b.append("email",a);axios.post("/login/account/checkemailses",b).then(function(a){Log.d("response.data : ",a.data);a=a.data;"failed"==a.result?Log.d("desc : ",a.desc):0==a[0].count?getID("email-w2").style.display="none":getID("email-w2").style.display=""}).catch(function(a){Log.d("btnCheckDupProduct() -> error=",a)})}};
getID("name").onkeyup=function(a){0>=this.value.length?getID("name-w").style.display="":30<this.value.length?getID("name-w").style.display="":getID("name-w").style.display="none"};getID("pwConfirm").onkeyup=function(){pwConfirmChk()};var pwConfirmChk=function(){getVal("pwConfirm")!=getVal("pw")?getID("pwConfirm-w").style.display="":getID("pwConfirm-w").style.display="none"};
getID("btnRegister").onclick=function(a){if(0>=getVal("email").length)modalAlert("Email is required.");else if(0>=getVal("name").length)modalAlert("User name is required.");else if(0>=getVal("pw").length)modalAlert("Password is required.");else if(0>=getVal("pwConfirm").length)modalAlert("Password Confirm is required.");else{a=document.getElementsByClassName("help-block");var b;for(b=0;b<a.length;b++)if("none"!=a[b].style.display){modalAlert("Check requriements.");return}doRegister()}};
window.addEventListener("DOMContentLoaded",function(){Log.d("DOMContentLoaded() called...");initPage()});
