var showProfile=function(a,b){Log.d("showProfile() -> uname=",a);Log.d("showProfile() -> email=",b);getID("pf-email").value=b;getID("pf-name").value=a;getID("pf-pw").value="";getID("pf-pwConfirm").value="";initPage();$("#pfModal").modal()},initPage=function(){var a=getID("pf-pw");a.lowChk=!1;a.upChk=!1;a.numChk=!1;a.lenChk=!1;getID("pf-pw-w").style.display="none";getID("pf-pwConfirm-w").style.display="none"},doSave=function(){var a=new URLSearchParams;a.append("email",getVal("pf-email"));a.append("name",
getVal("pf-name"));a.append("pw",sha256(getVal("pf-pw")));axios.post("/common/account/modify",a).then(function(a){Log.d("response.data : ",a.data);"failed"==a.data.result?modalAlert(a.data.desc):mv("/main.do")}).catch(function(a){Log.d("doRegister() -> error=",a)})};
getID("pf-pw").onkeyup=function(){pwConfirmChk();0>=this.value.length?getID("pf-pw-w").style.display="":(this.value.match(/[a-z]/g)?this.lowChk=!0:this.lowChk=!1,this.value.match(/[A-Z]/g)?this.upChk=!0:this.upChk=!1,this.value.match(/[0-9]/g)?this.numChk=!0:this.numChk=!1,8<=this.value.length?(this.lenChk=!0,256<this.value.length&&(this.lenChk=!1)):this.lenChk=!1,this.lowChk&&this.upChk&&this.numChk&&this.lenChk?getID("pf-pw-w").style.display="none":getID("pf-pw-w").style.display="")};
getID("pf-email").onkeyup=function(a){0>=this.value.length?getID("pf-email-w1").style.display="":checkEmail(this.value)?getID("pf-email-w1").style.display="none":getID("pf-email-w1").style.display=""};
getID("pf-email").onblur=function(a){Log.d("onblur() -> e=",a);a=getVal("pf-email");if(0>=a.length)getID("pf-email-w1").style.display="";else{var b=new URLSearchParams;b.append("pf-email",a);axios.post("/login/account/checkemailses",b).then(function(a){Log.d("response.data : ",a.data);a=a.data;"failed"==a.result?Log.d("desc : ",a.desc):0==a[0].count?getID("pf-email-w2").style.display="none":getID("pf-email-w2").style.display=""}).catch(function(a){Log.d("btnCheckDupProduct() -> error=",a)})}};
getID("pf-name").onkeyup=function(a){0>=this.value.length?getID("pf-name-w").style.display="":30<this.value.length?getID("pf-name-w").style.display="":getID("pf-name-w").style.display="none"};getID("pf-pwConfirm").onkeyup=function(){pwConfirmChk()};var pwConfirmChk=function(){getVal("pf-pwConfirm")!=getVal("pf-pw")?getID("pf-pwConfirm-w").style.display="":getID("pf-pwConfirm-w").style.display="none"};
getID("btnPfModalSave").onclick=function(a){if(0>=getVal("pf-email").length)modalAlert("Email is required");else if(0>=getVal("pf-name").length)modalAlert("User name is required");else{a=document.getElementsByClassName("pf-help-block");var b;for(b=0;b<a.length;b++)if("none"!=a[b].style.display){modalAlert("Check requriements.");return}doSave()}};
